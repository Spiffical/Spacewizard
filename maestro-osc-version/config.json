{
  "comment": "SpaceWizard MPU6050 to MaestroDMX OSC Configuration",
  "description": "Maps MPU6050 sensor data to MaestroDMX OSC addresses for lighting control",

  "mpu6050_properties": {
    "accelerometer_x": {
      "enabled": true,
      "description": "X-axis acceleration (g-force, -16g to +16g)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/brightness",
          "scale_min": -2.0,
          "scale_max": 2.0,
          "invert": false,
          "description": "Left-right tilt controls brightness"
        }
      ]
    },
    "accelerometer_y": {
      "enabled": true,
      "description": "Y-axis acceleration (g-force, -16g to +16g)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/speed",
          "scale_min": -2.0,
          "scale_max": 2.0,
          "invert": false,
          "description": "Forward-back tilt controls animation speed"
        }
      ]
    },
    "accelerometer_z": {
      "enabled": true,
      "description": "Z-axis acceleration (g-force, -16g to +16g)",
      "maestro_mapping": [
        {
          "osc_address": "/global/brightness",
          "scale_min": -2.0,
          "scale_max": 2.0,
          "invert": false,
          "description": "Up-down motion controls global brightness"
        },
        {
          "osc_address": "/triggers/strobe",
          "scale_min": 1.5,
          "scale_max": 2.0,
          "invert": false,
          "threshold": true,
          "description": "Sharp upward movements trigger strobe"
        }
      ]
    },
    "gyroscope_x": {
      "enabled": true,
      "description": "X-axis angular velocity (degrees/second, -2000 to +2000)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/energy",
          "scale_min": -500.0,
          "scale_max": 500.0,
          "invert": false,
          "description": "Roll rotation controls energy parameter"
        }
      ]
    },
    "gyroscope_y": {
      "enabled": true,
      "description": "Y-axis angular velocity (degrees/second, -2000 to +2000)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/excitement",
          "scale_min": -500.0,
          "scale_max": 500.0,
          "invert": false,
          "description": "Pitch rotation controls excitement"
        }
      ]
    },
    "gyroscope_z": {
      "enabled": true,
      "description": "Z-axis angular velocity (degrees/second, -2000 to +2000)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/motion/speed",
          "scale_min": -1000.0,
          "scale_max": 1000.0,
          "invert": false,
          "description": "Yaw rotation controls motion speed"
        }
      ]
    },
    "orientation_yaw": {
      "enabled": true,
      "description": "Yaw angle (degrees, 0-360)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/shape",
          "scale_min": 0.0,
          "scale_max": 360.0,
          "invert": false,
          "description": "Rotation around Z-axis controls pattern shape"
        }
      ]
    },
    "orientation_pitch": {
      "enabled": true,
      "description": "Pitch angle (degrees, -90 to +90)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/variance",
          "scale_min": -90.0,
          "scale_max": 90.0,
          "invert": false,
          "description": "Up-down tilt controls pattern variance"
        }
      ]
    },
    "orientation_roll": {
      "enabled": true,
      "description": "Roll angle (degrees, -90 to +90)",
      "maestro_mapping": [
        {
          "osc_address": "/live/1/decay",
          "scale_min": -90.0,
          "scale_max": 90.0,
          "invert": false,
          "description": "Left-right tilt controls pattern decay"
        }
      ]
    },
    "world_acceleration_x": {
      "enabled": false,
      "description": "World-frame X acceleration (gravity compensated)",
      "maestro_mapping": []
    },
    "world_acceleration_y": {
      "enabled": false,
      "description": "World-frame Y acceleration (gravity compensated)",
      "maestro_mapping": []
    },
    "world_acceleration_z": {
      "enabled": false,
      "description": "World-frame Z acceleration (gravity compensated)",
      "maestro_mapping": []
    },
    "impact_detection": {
      "enabled": true,
      "description": "Sudden acceleration changes for impact effects",
      "maestro_mapping": [
        {
          "osc_address": "/triggers/strobe",
          "threshold": 800,
          "cooldown_ms": 500,
          "description": "Impact detection triggers strobe effects"
        }
      ]
    }
  },

  "maestro_settings": {
    "default_host": "maestro.local",
    "default_port": 7672,
    "alternative_hosts": {
      "ethernet": "10.0.0.200",
      "wifi": "192.168.37.1"
    },
    "connection_timeout": 5.0,
    "retry_attempts": 3
  },

  "calibration": {
    "accel_scale": 16384.0,
    "gyro_scale": 131.0,
    "accel_range": 2,
    "gyro_range": 250,
    "mpu6050_gyro_offsets": {
      "x": 0,
      "y": 0,
      "z": 0,
      "note": "Run mpu6050_calibration.ino to determine these values for your specific sensor"
    },
    "mpu6050_accel_offsets": {
      "x": 0,
      "y": 0,
      "z": 0,
      "note": "Run mpu6050_calibration.ino to determine these values for your specific sensor"
    }
  },

  "data_processing": {
    "smoothing_factor": 0.1,
    "deadzone_threshold": 0.05,
    "output_rate_hz": 40,
    "enable_debug_output": false
  },

  "hardware_compatibility": {
    "mpu6050_requirements": {
      "i2c_pullup_resistors": true,
      "stable_power_supply": "3.3V-5V",
      "calibration_required": true,
      "operating_temperature": "-40C to +85C",
      "mounting_orientation": "flat and stable during calibration"
    },
    "nrf24l01_requirements": {
      "stable_3v3_power": true,
      "proper_antenna_connection": true,
      "spi_communication": true,
      "range_limitations": "up to 100m line-of-sight",
      "interference_avoidance": "avoid 2.4GHz WiFi/Bluetooth sources"
    },
    "arduino_compatibility": {
      "tested_boards": ["Arduino Nano", "Arduino Uno"],
      "required_pins": {
        "i2c_sda": "A4",
        "i2c_scl": "A5",
        "spi_mosi": "11",
        "spi_miso": "12",
        "spi_sck": "13",
        "radio_ce": "9",
        "radio_csn": "10",
        "button_pin": "6"
      },
      "power_requirements": "stable 5V supply, separate 3.3V for radio"
    },
    "common_issues": {
      "i2c_communication_failures": [
        "Check pull-up resistors (4.7kÎ© recommended)",
        "Verify I2C address (default 0x68)",
        "Ensure stable power supply",
        "Check wiring for shorts or breaks"
      ],
      "radio_range_issues": [
        "Ensure proper antenna connection",
        "Check power supply stability",
        "Avoid metal obstructions",
        "Reduce data rate if needed"
      ],
      "calibration_problems": [
        "Run calibration on stable surface",
        "Ensure sensor is not moving during calibration",
        "Check for magnetic interference",
        "Verify sensor temperature stability"
      ]
    }
  }
}
